{% extends "base_database.html" %}
{% block title %}HK-listed directors pay league table for {{ year }}{% endblock %}
{% block content %}
<h2>HK-listed directors pay league table for {{ year }}</h2>

<ul class="navlist">
    <li class="livebutton">By director</li>
    <li><a href="/dbpub/payleagueorg.asp?c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&y={{ year }}&sort={{ sort }}">By company</a></li>
</ul>
<div class="clear"></div>

<h3>Notes</h3>
<ol>
    <li>These data are compiled and verified by volunteers. Please <strong><a href="/contact">report</a></strong> any errors. Currently
    for financial years ending in {{ year }} these data omit {{ todo }} companies, in some cases because they failed to make the required
    disclosure under the Listing Rules, in others because the data are still being entered or verified.</li>
    <li>If a director sits on the boards of both a listed company and its listed subsidiary, then the parent company
    records will normally include the pay at the subsidiary, so you should subtract that when looking at annual totals.</li>
</ol>

<form method="get" action="/dbpub/payleague.asp">
    <input type="hidden" name="sort" value="{{ sort }}">
    <div class="inputs">
        Financial years ending in:
        <select name="y" onchange="this.form.submit()">
            {% for y in range(max_year, 2004, -1) %}
            <option value="{{ y }}"{% if y == year %} selected{% endif %}>{{ y }}</option>
            {% endfor %}
        </select>
    </div>
    <div class="clear"></div>
    <div class="inputs">
        Convert all records at financial year-end to:
        <select name="c" onchange="this.form.submit()">
            {% for curr in currencies %}
            <option value="{{ curr['id'] }}"{% if curr['id'] == currency %} selected{% endif %}>{{ curr['currency'] }}</option>
            {% endfor %}
        </select> '000
    </div>
    <div class="clear"></div>
    <div class="inputs">
        <input type="checkbox" name="i" value="True"{% if ined_only %} checked{% endif %} onchange="this.form.submit()">
        Only Independent Non-executive Directorships
    </div>
    <div class="clear"></div>
    <div class="inputs">
        <input type="checkbox" name="s" value="True"{% if exclude_share %} checked{% endif %} onchange="this.form.submit()">
        Exclude share-based pay from total
    </div>
    <div class="clear"></div>
</form>

<table class="numtable c2l">
    <tr>
        <th></th>
        <th>Name</th>
        <th class="colHide3">
            <a href="?y={{ year }}&c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&s={{ 'True' if exclude_share else 'False' }}&sort={{ 'feeup' if sort == 'feedn' else 'feedn' }}"><b>Fees</b></a>
        </th>
        <th class="colHide3">
            <a href="?y={{ year }}&c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&s={{ 'True' if exclude_share else 'False' }}&sort={{ 'salup' if sort == 'saldn' else 'saldn' }}"><b>Salary &<br>benefits</b></a>
        </th>
        <th class="colHide3">
            <a href="?y={{ year }}&c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&s={{ 'True' if exclude_share else 'False' }}&sort={{ 'bonup' if sort == 'bondn' else 'bondn' }}"><b>Bonus</b></a>
        </th>
        <th class="colHide3">
            <a href="?y={{ year }}&c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&s={{ 'True' if exclude_share else 'False' }}&sort={{ 'retup' if sort == 'retdn' else 'retdn' }}"><b>Retire</b></a>
        </th>
        <th class="colHide3">
            <a href="?y={{ year }}&c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&s={{ 'True' if exclude_share else 'False' }}&sort={{ 'shaup' if sort == 'shadn' else 'shadn' }}"><b>Share-<br>based</b></a>
        </th>
        <th>
            <a href="?y={{ year }}&c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&s={{ 'True' if exclude_share else 'False' }}&sort={{ 'totup' if sort == 'totdn' else 'totdn' }}"><b>Total</b></a>
        </th>
        <th>
            <a href="?y={{ year }}&c={{ currency }}&i={{ 'True' if ined_only else 'False' }}&s={{ 'True' if exclude_share else 'False' }}&sort={{ 'cntup' if sort == 'cntdn' else 'cntdn' }}"><b>N</b></a>
        </th>
    </tr>
    {% for row in league %}
    <tr>
        <td>{{ loop.index }}</td>
        <td><a href="/dbpub/offpay.asp?p={{ row['pplid'] }}&c={{ currency }}">{{ row['name'] }}</a></td>
        <td class="colHide3">{{ "{:,}".format(row['fee']) }}</td>
        <td class="colHide3">{{ "{:,}".format(row['sal']) }}</td>
        <td class="colHide3">{{ "{:,}".format(row['bon']) }}</td>
        <td class="colHide3">{{ "{:,}".format(row['ret']) }}</td>
        <td class="colHide3">{{ "{:,}".format(row['sha']) }}</td>
        <td>{{ "{:,}".format(row['tot']) }}</td>
        <td>{{ row['c'] }}</td>
    </tr>
    {% endfor %}
</table>

{% if not league %}
<p>No pay data available for {{ year }}.</p>
{% endif %}

{% endblock %}
