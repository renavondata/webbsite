{% extends "base.html" %}

{% block title %}Distribution of directorships per person{% endblock %}

{% block content %}
<h2>Distribution of directorships per person</h2>

<p>This table shows how many people hold 1, 2, 3... HK-listed directorships.</p>

<form method="get" action="/dbpub/dirsHKPerPerson.asp">
    <div class="inputs">
        Snapshot date: <input type="date" name="d" id="d" value="{{ d }}">
    </div>
    <div class="inputs">
        <input type="submit" value="Go">
    </div>
</form>

<table class="numtable">
    <tr>
        <th>No. of Directorships</th>
        <th>No. of People</th>
        <th>Percentage</th>
    </tr>
    {% for row in distribution %}
    <tr>
        <td>{{ row.directorships }}</td>
        <td>{{ row.people }}</td>
        <td>{{ '%.2f%%'|format((row.people * 100.0 / total) if total > 0 else 0) }}</td>
    </tr>
    {% endfor %}
    <tr class="total">
        <td><strong>Total</strong></td>
        <td><strong>{{ total }}</strong></td>
        <td><strong>100.00%</strong></td>
    </tr>
</table>
{% endblock %}
