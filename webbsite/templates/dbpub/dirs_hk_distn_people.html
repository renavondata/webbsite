{% extends "base_database.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
<h2>{{ title }}</h2>
<p>This table summarises the number of HK-listed directorships held by directors
of companies with a HK primary listing
on any snapshot date since 1-Jan-1990. To see a list of directors,
<a href="/dbpub/dirsHKPerPerson.asp?d={{ d }}">click here</a>.</p>


<form method="get" action="/dbpub/DirsHKDistnPeople.asp">
    <div class="inputs">
        Snapshot date: <input type="date" name="d" id="d" value="{{ d }}" onblur="this.form.submit()">
    </div>
    <div class="inputs">
        <input type="submit" value="Go">
        <input type="submit" value="clear" onclick="document.getElementById('d').value='';"/>
    </div>
    <div class="clear"></div>
</form>

{{ mobile_alert|safe }}
<table class="numtable">
    <tr>
        <th>No.<br>of<br>seats</th>
        <th>No.<br>of<br>people</th>
        <th>Female</th>
        <th>Cumul-<br>ative<br>people</th>
        <th>Cumul-<br>ative<br>female</th>
        <th class="colHide3">Cumul-<br>ative<br>seats</th>
        <th class="colHide3">Cumul-<br>ative<br>female<br>seats</th>
    </tr>
    {% for row in distribution %}
    <tr>
        <td>{{ row.numseats }}</td>
        <td>{{ row.numpeople }}</td>
        <td>{{ row.female }}</td>
        <td>{{ row.cum_people }}</td>
        <td>{{ row.cum_female }}</td>
        <td class="colHide3">{{ row.cum_seats }}</td>
        <td class="colHide3">{{ row.cum_female_seats }}</td>
    </tr>
    {% endfor %}
</table>

<br>
<table class="opltable">
    <tr>
        <th>Statistic</th>
        <th>Result</th>
    </tr>
    <tr>
        <td>Average number of directorships per person</td>
        <td>{{ '%.3f'|format(stats.avg_seats) }}</td>
    </tr>
    <tr>
        <td>Average number of directorships per female</td>
        <td>{{ '%.3f'|format(stats.avg_female_seats) }}</td>
    </tr>
    <tr>
        <td>Percentage of directorships held by females</td>
        <td>{{ '%.2f%%'|format(stats.pct_female_seats) }}</td>
    </tr>
    <tr>
        <td>Percentage of directors who are female</td>
        <td>{{ '%.2f%%'|format(stats.pct_female_dirs) }}</td>
    </tr>
</table>
{% endblock %}
