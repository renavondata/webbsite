{% extends "base.html" %}

{% block title %}Year-end of HK {{ title }} listed companies{% endblock %}

{% block content %}
<h2>Year-end of HK {{ title }} listed companies</h2>

<p>
    <a href="?e=m&sort={{ sort }}">Main Board</a> |
    <a href="?e=g&sort={{ sort }}">GEM</a> |
    <a href="?e=a&sort={{ sort }}">All HK</a>
</p>

<table class="numtable c2l">
    <tr>
        <th></th>
        <th><a href="?e={{ e }}&sort=monup">Month</a> | <a href="?e={{ e }}&sort=mondn">▼</a></th>
        <th><a href="?e={{ e }}&sort=cntdn">Count</a> | <a href="?e={{ e }}&sort=cntup">▲</a></th>
        <th>Share %</th>
    </tr>
    {% for month in months %}
    <tr>
        <td>{{ month.monthid }}</td>
        <td>{{ month.shortname }}</td>
        <td>{{ month.cnt }}</td>
        <td>{{ '%.2f'|format((month.cnt * 100.0 / total) if total > 0 else 0) }}</td>
    </tr>
    {% endfor %}
    <tr class="total">
        <td colspan="2"><strong>Total</strong></td>
        <td><strong>{{ total }}</strong></td>
        <td><strong>100.00</strong></td>
    </tr>
</table>
{% endblock %}
