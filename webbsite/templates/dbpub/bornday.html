{% extends "base.html" %}

{% block title %}People born on {{ d }} {{ month_name }}{% endblock %}

{% block content %}
<h2>People born on {{ d }} {{ month_name }}</h2>

<form method="get" action="/dbpub/bornday.asp">
    Day <select name="d">
        {% for day in range(1, 32) %}
        <option value="{{ day }}"{% if day == d %} selected{% endif %}>{{ day }}</option>
        {% endfor %}
    </select>
    Month <select name="m">
        {% for month in range(1, 13) %}
        <option value="{{ month }}"{% if month == m %} selected{% endif %}>{{ month }}</option>
        {% endfor %}
    </select>
    <input type="hidden" name="sort" value="{{ sort }}">
    <input type="submit" value="Go">
</form>

<table class="numtable">
    <tr>
        <th class="left"><a href="?d={{ d }}&m={{ m }}&sort=nameup">Name</a> | <a href="?d={{ d }}&m={{ m }}&sort=namedn">▼</a></th>
        <th><a href="?d={{ d }}&m={{ m }}&sort=yearup">Year of birth</a> | <a href="?d={{ d }}&m={{ m }}&sort=yeardn">▼</a></th>
        <th>Age in {{ current_year }}</th>
        <th>Date of death</th>
    </tr>
    {% for person in people %}
    <tr>
        <td class="left"><a href="/dbpub/orgdata.asp?p={{ person.personid }}">{{ person.name }}</a></td>
        <td>{{ person.yob }}</td>
        <td>{{ current_year - person.yob }}</td>
        <td>{% if person.dod %}{{ person.dod }}{% endif %}</td>
    </tr>
    {% endfor %}
</table>

{% if not people %}
<p>No people found born on this day.</p>
{% endif %}

<p>Total: {{ people|length }} people</p>
{% endblock %}
