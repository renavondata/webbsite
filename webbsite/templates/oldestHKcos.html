<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/main.css') }}">
<title>{{ title }}</title>
</head>
<body>
{% include 'header.html' %}

<h2>{{ title }}</h2>

<p>This page shows the oldest companies incorporated in HK. Keep in mind that
some entities have an earlier, unincorporated existence.
Earliest records from the 19th century are understated due to lost records of
dissolved companies. Registration was not required until 1911.
{% if t == 0 or t == 2 %}
One company, "The General Commercial Company, Limited", has no known incorporation date but,
based on its incorporation number, it was between 1-Feb-1926 and 11-Mar-1926, so
we estimate it at 20-Feb-1926. It was
dissolved on 20-Aug-1926.
{% endif %}
</p>

<p>Note: data on dissolutions are not reliable after 16-Nov-2020, when we
started our last complete scan of the registry. On 22-Nov-2020, the registry
implemented a new captcha system, preventing further data collection. The
limited data available on
<a href="https://data.gov.hk/en-datasets/provider/hk-cr?order=name&amp;file-content=no" target="_blank">
data.gov.hk</a> (comprising delayed weekly updates) only cover new
incorporations and name-changes.</p>

<form method="get" action="{{ url_for('dbpub.enigma_oldestHKcos') }}">
    <select name="t" onchange="this.form.submit()">
        <option value="0" {% if t == 0 %}selected{% endif %}>All types</option>
        {% for ot in org_types %}
            <option value="{{ ot['org_type'] }}" {% if t == ot['org_type'] %}selected{% endif %}>
                {{ ot['type_name'] }}
            </option>
        {% endfor %}
    </select>
    <input type="checkbox" name="a" value="1" {% if a %}checked{% endif %} onchange="this.form.submit()"> Surviving
    <input type="hidden" name="sort" value="{{ sort_param }}">
</form>
<br>

{% if results|length == 0 %}
    <p>None found. Try widening your search.</p>
{% else %}
    <table class="txtable">
        <tr>
            <th></th>
            <th class="colHide2">
                <a href="{{ url_for('dbpub.enigma_oldestHKcos', t=t, a=a, sort='regup' if sort_param != 'regup' else 'regdn') }}">
                    Reg no.
                </a>
            </th>
            <th class="left">
                <a href="{{ url_for('dbpub.enigma_oldestHKcos', t=t, a=a, sort='namup' if sort_param != 'namup' else 'namdn') }}">
                    Name
                </a>
            </th>
            <th>
                <a href="{{ url_for('dbpub.enigma_oldestHKcos', t=t, a=a, sort='incup' if sort_param != 'incup' else 'incdn') }}">
                    Inc.
                </a>
            </th>
            {% if not a %}
                <th class="colHide3">
                    <a href="{{ url_for('dbpub.enigma_oldestHKcos', t=t, a=a, sort='disdn' if sort_param != 'disdn' else 'disup') }}">
                        Dissolved
                    </a>
                </th>
            {% endif %}
            {% if t == 0 %}
                <th class="colHide3">
                    <a href="{{ url_for('dbpub.enigma_oldestHKcos', t=t, a=a, sort='typup' if sort_param != 'typup' else 'typdn') }}">
                        Type
                    </a>
                </th>
            {% endif %}
        </tr>
        {% for row in results %}
        <tr>
            <td>{{ loop.index }}</td>
            <td class="colHide2">{{ row['inc_id'] if row['inc_id'] else '' }}&nbsp;</td>
            <td class="left">
                <a href="{{ url_for('dbpub.enigma_orgdata', p=row['person_id']) }}">
                    {{ row['name'] }}
                    {% if row['c_name'] %}<br>{{ row['c_name'] }}{% endif %}
                </a>
            </td>
            <td class="nowrap">{{ row['inc_date'].strftime('%Y-%m-%d') if row['inc_date'] else '' }}</td>
            {% if not a %}
                <td class="colHide3 nowrap">{{ row['dis_date'].strftime('%Y-%m-%d') if row['dis_date'] else '' }}</td>
            {% endif %}
            {% if t == 0 %}
                <td class="colHide3">{{ row['type_name'] }}</td>
            {% endif %}
        </tr>
        {% endfor %}
    </table>
{% endif %}

{% include 'footer.html' %}
</body>
</html>
